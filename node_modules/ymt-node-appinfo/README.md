# ymt-node-appinfo
---
洋码头Node站点获取header中ymt_pars信息中间件

## Install
```bash
$ npm install ymt-node-appinfo
```

### 获取信息
```bash

accessToken:登录令牌
format:api结果的响应格式
idfa:ios的IDFA
imei:android的IMEI
network:网络,wifi,3g,4g
client:客户端,ios,android,h5
type:app类型,buyer,seller
channel:渠道
os:客户端操作系统
userId:用户UserID
yId:搜索所需的yi
requestId:请求id      //如果不传requestId，那么node会自动生成一个uuid
clientIp:客户端的ip地址
clientPort:客户端请求的port

最终所有信息存入 res.appInfo
```
具体请查看 [wiki](http://wiki.ymatou.cn:8090/pages/viewpage.action?pageId=17401812) 4.3 HTTP 头

### 使用
```bash
中间件使用
    server.use(require('ymt-node-appinfo')());
获取信息
    res.appInfo.userId
    res.appInfo.accessToken
```