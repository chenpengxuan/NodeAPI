# ymt-node-result
---
洋码头Node站点返回结果中间件

## Install
```bash
$ npm install ymt-node-result
```
### 使用说明

中间件在res上生成4个返回函数,所有返回都应该使用下面的4个函数之一,不应使用res.send(result)
```bash
res.success
    服务访问成功，res.success(result)
    http code = 200
res.businessError
    服务访问失败或者参数错误等业务错误, res.businessError(errMsg)
    http code = 500
res.authError
    权限错误，未登录、登录 res.authError(权限错误)
    http code = 401
res.customError
    自定义错误 res.customError(自定义错误)
    http code = 500
```

### 例子
```bash
var result = require('ymt-node-result');
//使用中间件
server.use(result());

var paramsErrorMsg = paramsCheck(req.query);
if (paramsErrorMsg) {
    return res.businessError(paramsErrorMsg);
}
```