# YMT-NODE-Watch
性能和日志监控系统

## Install
```bash
$ npm install ymt-node-watch
```
## Options
```bash
配置本地log目录后
远端alarm.ymatou.com 日志的同时会写本地log


var YNW=require('ymt-node-watch');
	app.use(YNW.setting({
			appId:'node-test',				//项目名
			host:'172.16.100.13',			//监控服务器地址
			port:8089,						//监控服务器端口
			path:'/api/perfmon/',			//监控服务器路径
			open:true,						//是否开启
			loopTime:5000					//上传耗时间隔  Default:30s
		},{
			appId:'node-test',				//项目名
			host:'alarm.ymatou.com',		//日志服务器
			port:80,						//日志服务器端口
			path:'/Alarm/SaveSingle'		//日志服务器路径
		},
		{
            path:'./logs/log.log'           //本地log路径，配置后会在alarm的同时写入本地日志
		}
	))

YNW.logs.logLocal(msg)          //只在本地log
YNW.logs.logDebug(msg)          //只在本地log配置后生效，记录业务日志
YNW.logs.error(error)           //同时在远端和本地log
```

## Use Logger

```
var ymtlog=require('ymt-node-watch');
	
	//向服务器报错误信息
	ymtlog.logs.error({		//错误级别
		title:'not error',	//错误标题
		message:'hellod',	//错误内容
		method:'getNamer'	//错误方法
	});

	ymtlog.logs.warn({...})		//警告级别
	ymtlog.logs.fatal({...})	//致命级别

```